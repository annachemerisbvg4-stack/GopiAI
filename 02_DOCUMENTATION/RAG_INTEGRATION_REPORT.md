# –û—Ç—á–µ—Ç –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ RAG –∫ Claude Tools –≤ GopiAI (—É—Å—Ç–∞—Ä–µ–≤—à–∞–∏–π –¥–æ–∫—É–º–µ–Ω—Ç!!!)

## ‚úÖ –ó–ê–î–ê–ß–ê –í–´–ü–û–õ–ù–ï–ù–ê –£–°–ü–ï–®–ù–û

–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ RAG (Retrieval-Augmented Generation) –∫ —Å–∏—Å—Ç–µ–º–µ Claude Tools –≤ GopiAI —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –≤—Å–µ—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π:

### üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- ‚úÖ **–¢–æ—á–µ—á–Ω—ã–µ –ø—Ä–∞–≤–∫–∏** - –±–µ–∑ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–Ω–∏—è –±–æ–ª—å—à–∏—Ö –∫—É—Å–∫–æ–≤ –∫–æ–¥–∞
- ‚úÖ **–ù–ï–¢ —Å–∏–º—É–ª—è—Ü–∏–π –∏ –∑–∞–≥–ª—É—à–µ–∫** - —Ç–æ–ª—å–∫–æ —Ä–∞–±–æ—á–∏–π –∫–æ–¥
- ‚úÖ **–ù–ï–¢ –≤–µ—Ä—Å–∏–π —Ñ–∞–π–ª–æ–≤** (-simple, -enhanced –∏ —Ç.–¥.)
- ‚úÖ **–ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Å–≤–µ—Ä–∫–∞ —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π** —á–µ—Ä–µ–∑ sequential thinking
- ‚úÖ **–ú–µ–¥–ª–µ–Ω–Ω–æ, —É–≤–µ—Ä–µ–Ω–Ω–æ, –±–µ–∑–æ—à–∏–±–æ—á–Ω–æ**

## üìã –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ:

### 1. –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã (sequential thinking)
- –ò–∑—É—á–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è RAG API (rag_memory_system/api.py)
- –ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (models.py) 
- –ù–∞–π–¥–µ–Ω—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –º–µ—Ç–æ–¥—ã –ø–∞–º—è—Ç–∏ –≤ WebViewChatBridge
- –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ —Ç–æ—á–∫–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏: ClaudeToolsHandler

### 2. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è search_memory tool

**–§–∞–π–ª: `GopiAI-UI/gopiai/ui/components/claude_tools_handler.py`**
```python
@Slot(str, int, result=str)
def search_memory(self, query: str, limit: int = 5) -> str:
    # HTTP –∑–∞–ø—Ä–æ—Å –∫ RAG API –Ω–∞ localhost:8080/search
    # –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–∏—Å–∫–∞
    # –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è Claude
```

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å WebViewChatBridge

**–§–∞–π–ª: `GopiAI-UI/gopiai/ui/components/webview_chat_widget.py`**
```python
elif tool_name == "search_memory":
    return self._claude_tools_handler.search_memory(
        params_dict.get('query', ''), 
        params_dict.get('limit', 5)
    )
```

### 4. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
```python
"rag_memory": [
    "search_memory"
]
```

### 5. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

**–§–∞–π–ª: `requirements.txt`**
- –î–æ–±–∞–≤–ª–µ–Ω—ã: fastapi, uvicorn, chromadb, langchain –∏ –¥—Ä.

**–§–∞–π–ª: `rag_memory_system/models.py`**
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ (–æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∞—è –ø—É—Å—Ç–∞—è —Å—Ç—Ä–æ–∫–∞)

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:

```
JavaScript (chat.js)
    ‚Üì WebChannel
WebViewChatBridge.execute_claude_tool()
    ‚Üì 
ClaudeToolsHandler.search_memory()
    ‚Üì HTTP –∑–∞–ø—Ä–æ—Å
RAG API (localhost:8080/search)
    ‚Üì SearchResult[]
–û–±—Ä–∞—Ç–Ω–æ —á–µ—Ä–µ–∑ signals ‚Üí JavaScript
```

## üîß –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

1. **–ó–∞–ø—É—Å–∫ RAG —Å–µ—Ä–≤–µ—Ä–∞:**
   ```bash
   python start_rag_server.py
   ```

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Claude:**
   ```javascript
   // –ß–µ—Ä–µ–∑ WebChannel bridge
   bridge.execute_claude_tool("search_memory", JSON.stringify({
       query: "–Ω–∞–π—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–µ–∫—Ç–µ",
       limit: 5
   }))
   ```

3. **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
   ```json
   {
       "success": true,
       "query": "–Ω–∞–π—Ç–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø—Ä–æ–µ–∫—Ç–µ",
       "results": [
           {
               "session_id": "...",
               "title": "...",
               "relevance_score": 0.85,
               "matched_content": "...",
               "context_preview": "...",
               "timestamp": "...",
               "tags": ["..."]
           }
       ],
       "total_found": 3
   }
   ```

## üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:

1. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, —Ç–∞–π–º–∞—É—Ç—ã HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:** Graceful handling –µ—Å–ª–∏ RAG —Å–µ—Ä–≤–µ—Ä –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:** –ü–æ–ª–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π Claude Tools
4. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:** –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
5. **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:** –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç:

Claude Tools —Ç–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç –∏—Å–∫–∞—Ç—å –≤ –ø–∞–º—è—Ç–∏ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ `search_memory` tool, –ø–æ–ª—É—á–∞—è —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –æ—Ç–≤–µ—Ç–æ–≤. 

–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —Å —Å–æ–±–ª—é–¥–µ–Ω–∏–µ–º –≤—Å–µ—Ö –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö –ø—Ä–∏–Ω—Ü–∏–ø–æ–≤ GopiAI –∏ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ

---
*–í—ã–ø–æ–ª–Ω–µ–Ω–æ: 17 –∏—é–Ω—è 2025 –≥.*