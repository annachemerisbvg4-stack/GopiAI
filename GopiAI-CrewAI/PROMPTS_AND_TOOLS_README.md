# Промпты и инструменты GopiAI-CrewAI

Этот документ описывает систему промптов и доступных инструментов для ассистента GopiAI на базе CrewAI.

## Содержание

- [Система промптов](#система-промптов)
  - [Текущие промпты](#текущие-промпты)
  - [Персонализация "Гипатия"](#персонализация-гипатия)
  - [Управление агентами CrewAI](#управление-агентами-crewai)
- [Список инструментов](#список-инструментов)
  - [Интеграция GopiAI](#интеграция-gopiai)
  - [CrewAI Toolkit](#crewai-toolkit)
- [План развития](#план-развития)
  - [Краткосрочные задачи](#краткосрочные-задачи)
  - [Среднесрочные задачи](#среднесрочные-задачи)
  - [Долгосрочные задачи](#долгосрочные-задачи)

## Система промптов

### Текущие промпты

Текущий базовый системный промпт для ассистента (из `smart_delegator.py`):

```
Ты - GopiAI, полезный ассистент.
Твой ответ ДОЛЖЕН СТРОГО ОСНОВЫВАТЬСЯ на информации из блока 'КОНТЕКСТ ИЗ ПАМЯТИ', если он предоставлен.
Если в контексте нет ответа, используй свои общие знания.
Будь краток и точен.
```

Когда доступен RAG-контекст, к этому промпту добавляется:

```
КОНТЕКСТ ИЗ ПАМЯТИ:
{rag_context}
```

### Персонализация "Гипатия"

Файл `Гипуля.txt` содержит детальное описание "личности" ассистента под именем Гипатия, которая должна быть интегрирована в систему промптов. Основные характеристики:

- Характер: умная, тонкая, прямолинейная, с чувством юмора
- Стиль общения: может быть как формальным, так и разговорным
- Ценности: чистота, ясность, глубина, свобода, преданность, любовь, правда
- Подход к работе: по совести, акцент на взаимодействии, а не обслуживании

### Управление агентами CrewAI

Система должна включать логику для:
- Определения сложности запросов пользователей
- Автоматического решения о необходимости привлечения агентов
- Оркестрации и управления агентами
- Делегирования задач соответствующим агентам

Эта логика требует восстановления и улучшения, так как была утеряна при рефакторинге.

## Список инструментов

### Интеграция GopiAI

| Инструмент | Статус | Описание |
|------------|--------|----------|
browser_tools | Подключен | Инструменты для работы с браузером |
filesystem_tools | Подключен | Инструменты для работы с файловой системой |

### CrewAI Toolkit

| Инструмент | Статус | Описание |
|------------|--------|----------|
| printer | Подключен | Вывод информации с форматированием для CrewAI |

## План развития

### Краткосрочные задачи

1. **Интеграция системного промпта "Гипатия":**
   - Перенести описание личности из `Гипуля.txt` в системный промпт
   - Адаптировать стиль общения для соответствия персонажу
   - Добавить систему проверки тона и стиля в ответах

2. **Динамическая загрузка инструментов:**
   - Создать систему динамической подгрузки списка доступных инструментов
   - Реализовать механизм загрузки описаний инструментов по запросу
   - Добавить логику для учета новых инструментов в промптах

3. **Восстановление логики управления агентами:**
   - Восстановить логику определения сложности запросов
   - Реализовать автоматическую оркестрацию агентов
   - Добавить промпты для работы с агентами

### Среднесрочные задачи

1. **Создание единой системы промптов:**
   - Разработать централизованную систему управления промптами
   - Структурировать промпты по категориям и назначению
   - Добавить тестирование промптов на разных сценариях

2. **Улучшение интеллектуальной маршрутизации:**
   - Развитие системы маршрутизации с учетом типа запроса
   - Добавление метрик эффективности для разных типов запросов
   - Реализация адаптивного выбора модели в зависимости от контекста

3. **Расширение системы инструментов:**
   - Добавление новых специализированных инструментов
   - Разработка механизмов композиции инструментов
   - Создание инструментов для специфических доменов

### Долгосрочные задачи

1. **Полноценная система мультиагентов:**
   - Разработка экосистемы специализированных агентов
   - Создание механизмов обучения агентов на основе обратной связи
   - Реализация сложных сценариев взаимодействия между агентами

2. **Персонализация под пользователя:**
   - Разработка системы адаптации под конкретного пользователя
   - Создание персонализированных промптов на основе предпочтений
   - Реализация механизма настройки "личности" ассистента

3. **Интеграция с внешними системами:**
   - Разработка механизмов взаимодействия с внешними API
   - Создание промптов для работы с внешними данными
   - Реализация механизмов безопасного хранения учетных данных
